TODO:

- Chnage the way we map for multiple modes, should just loop over modes and then
  map each individually
